# 今日の運勢占いツール

## 概要
YokaUnitプラットフォーム向けに開発された「今日の運勢占い」ツールです。ユーザーの星座と今日の行動を入力することで、AI風のアルゴリズムによって運勢を診断し、実用的なアドバイスを提供します。

## 機能

### 入力機能
- **星座選択**: 12星座から選択（牡羊座〜魚座）
- **今日の行動入力**: 自由テキスト入力（プレゼン、デート、勉強など）

### 出力機能
1. **総合運** (0〜100): 今日一日の全体的な運気
2. **恋愛運** (0〜100): 恋愛関係や人間関係での運気
3. **仕事運** (0〜100): 仕事や学業での成功度
4. **金運** (0〜100): お金に関する運気
5. **今日のラッキー行動**: 具体的な行動提案
6. **今日の気をつけること**: 注意すべきポイント
7. **一言アドバイス**: ユーモアと今日の行動を織り交ぜたメッセージ
8. **感情への一言**: 気持ちに寄り添うメッセージ

### 特徴
- **日付シード**: 同じ内容でも日によって結果が変わる
- **星座特性考慮**: 12星座の元素・性質を運勢計算に反映
- **行動分析**: 入力された行動内容をキーワード分析してボーナス適用
- **レスポンシブデザイン**: スマホ・PC・タブレット対応
- **SNS共有機能**: 結果をSNSでシェア可能

## 技術仕様

### ファイル構成
```
app/tools/fortune-today/
├── page.tsx                           # Next.js ページコンポーネント
├── FortuneTodayClientPage.tsx         # メインクライアントページ
├── components/
│   ├── FortuneForm.tsx               # 入力フォーム
│   └── FortuneResult.tsx             # 結果表示
├── hooks/
│   └── useFortuneTeller.ts           # 状態管理フック
└── lib/
    ├── types.ts                      # TypeScript型定義
    └── fortune-calculator.ts         # 運勢計算ロジック
```

### 主要なアルゴリズム

#### 運勢計算ロジック
1. **基本シード生成**: 星座インデックス + 年間通算日 + 年
2. **行動テキスト分析**: ポジティブ・アクティブ・仕事・恋愛・金銭関連キーワード検出
3. **星座特性適用**: エレメント（火・土・風・水）とクオリティ（活動・不動・柔軟）による調整
4. **スコア生成**: 30-90の基本範囲 + 行動ボーナス + 星座調整

#### 運勢メッセージ
- 0-9: 「今日は慎重に行動。無理せず休むのが吉。」
- 10-19: 「小さなトラブルに注意。大きな決断は控えて。」
- ...
- 90-100: 「最高運！願いが叶いやすい日。自信を持って挑戦。」

### データベース設定

#### toolsテーブル追加
```sql
INSERT INTO tools (
  slug: 'fortune-today',
  title: '今日の運勢占い',
  category: '占い・診断',
  tags: ['占い', '運勢', '星座', '今日', '恋愛運', '仕事運', '金運'],
  icon: '🔮',
  href: '/tools/fortune-today'
);
```

## SEO対策

### メタデータ
- **タイトル**: 今日の運勢占い｜星座×行動で分かる無料AI占いツール
- **説明**: 【完全無料】AIが星座と今日の行動から運勢を診断！総合運・恋愛運・仕事運・金運を0-100で数値化
- **キーワード**: 今日の運勢, 星座占い, AI占い, 無料占い, 恋愛運, 仕事運, 金運

### 構造化データ
- WebApplication スキーマ
- FAQPage スキーマ
- 機能一覧とレビュー評価

## 収益化施策

### 広告配置可能箇所
- 結果画面下部: AdSense バナー広告
- サイドバー: アフィリエイト広告（占い関連商品）

### 回遊施策
- 他ツールへの誘導リンク（AIモテ度診断、AI精神年齢診断など）
- SNS共有による拡散促進
- 「今日の運勢を友達と比較」機能

### プレミアム機能拡張案
- 詳細な開運アクション
- ラッキーアイテム・ラッキーカラー
- 1週間・1ヶ月の運勢予測
- 相性診断機能

## 使用方法

### 開発環境での起動
```bash
npm run dev
```

### データベースセットアップ
```bash
# Supabaseでツールデータを追加
psql -f database/add-fortune-today-tool.sql
```

### 本番環境デプロイ
1. ツールファイル群をデプロイ
2. データベースにツール情報を追加
3. OGP画像を設置（/public/ogp/fortune-today.png）

## 注意事項

### 法的・倫理的配慮
- 娯楽目的であることを明記
- 重要な決定は自己判断で行うよう注意喚起
- 結果の精度について適切な説明

### パフォーマンス
- 運勢計算は同期処理（高速）
- UI演出のため1.5秒の待機時間を設定
- 画像の遅延読み込み対応

## 今後の改善案

### 機能拡張
- 月間運勢、年間運勢
- 恋愛相性診断
- 開運グッズ推薦

### UI/UX改善
- アニメーション効果の追加
- 結果の視覚化（チャート表示）
- ダークモード対応

### 分析・改善
- ユーザー行動分析
- A/Bテストによる改善
- 人気の行動キーワード分析
